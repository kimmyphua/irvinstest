(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t,n){},133:function(e,t,n){},271:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(31),s=n.n(r),i=(n(132),n.p,n(133),n(10)),l=n.n(i),o=n(38),u=n(19),j=n(12),d=n(41),b=n(11),p=n(273),f=n(274),m=n(125),h=n(278),O=n(275),x=n(20),g=n.n(x),v=n(59),y=n(1);var N=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(b.a)(r,2),i=s[0],x=s[1],N=Object(c.useState)({createdAt:Date.now(),updatedAt:Date.now()}),w=Object(b.a)(N,2),I=w[0],k=w[1],D=Object(c.useState)(!1),C=Object(b.a)(D,2),S=C[0],A=C[1],P=Object(c.useState)(""),T=Object(b.a)(P,2),L=T[0],_=T[1],F=Object(c.useRef)(null),q=Object(c.useRef)(null);function B(e){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(o.a)({},t.target.name,t.target.value))})),console.log(I);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(t),e.prev=1,e.next=4,g.a.post("/api/products",I,{});case 4:n=e.sent,console.log(n),q.current.reset(),F.current.reset(),_(""),x([]),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){k((function(e){return Object(j.a)(Object(j.a)({},e),{},{tags:i})})),console.log(I)}),[i]),Object(y.jsx)(p.a,{children:Object(y.jsxs)(f.a,{className:"justify-content-center text-center",children:[Object(y.jsx)("h1",{children:" IRVIN'S PRODUCT ADD LIST"}),Object(y.jsx)(m.a,{md:8,children:Object(y.jsxs)(h.a,{onSubmit:function(e){return R.apply(this,arguments)},ref:q,children:[Object(y.jsxs)("div",{className:"form-floating mb-3",children:[Object(y.jsx)("input",{type:"text",name:"name",onChange:B,className:"form-control",id:"floatingInput",required:!0,minLength:1,placeholder:"salted egg yolk"}),Object(y.jsx)("label",{className:"text-muted pt-2",for:"floatingInput",children:"Name"})]}),Object(y.jsxs)("div",{className:"form-floating mb-3",children:[Object(y.jsx)("input",{type:"number",name:"price",required:!0,min:.1,step:.01,onChange:B,className:"form-control",id:"floatingInput",placeholder:"9.99"}),Object(y.jsx)("label",{className:"text-muted pt-2",for:"floatingInput",children:"Price"})]}),Object(y.jsxs)("div",{className:"form-floating mb-3",children:[Object(y.jsx)("textarea",{type:"text",name:"description",onChange:B,className:"form-control",id:"floatingInput",style:{height:"7em"},placeholder:"salted egg yolk"}),Object(y.jsx)("label",{className:"text-muted pt-2",for:"floatingInput",children:"Description"})]}),Object(y.jsxs)(f.a,{className:"justify-content-center mx-1",children:[Object(y.jsx)("label",{className:"text-muted text-start",children:"Image Upload"}),Object(y.jsxs)("form",{ref:F,children:[Object(y.jsx)("input",{type:"file",name:"file",id:"floatingInput",className:"form-control",onChange:function(e){!function(e){if(e[0]&&""!==e[0])if(e[0].type.includes("image/jpg")||e[0].type.includes("image/jpeg")||e[0].type.includes("image/gif")||e[0].type.includes("image/png")){var t=new FormData;t.append("file",e[0]),t.append("upload_preset","qfsfkzqi"),g.a.post("https://api.cloudinary.com/v1_1/kimmyp/image/upload",t).then((function(e){console.log(e.data.secure_url),k((function(t){return Object(j.a)(Object(j.a)({},t),{},{image:e.data.secure_url})})),_(e.data.secure_url)}))}else alert("file type not supported!"),F.current.reset(),_("");else alert("please upload a file")}(e.target.files)}}),Object(y.jsx)(v.a,{style:{width:"30%"},cloudName:"kimmyp",publicId:L})]})]}),Object(y.jsx)("div",{className:"tag-container my-3",children:i.map((function(e,t){return Object(y.jsxs)("div",{className:"tag ",children:[e,Object(y.jsx)("button",{onClick:function(){return function(e){x((function(t){return t.filter((function(t,n){return n!==e}))}))}(t)},children:"x"})]})}))}),Object(y.jsxs)("div",{className:"form-floating mb-3",children:[Object(y.jsx)("input",{type:"text",name:"tags",value:n,placeholder:"Enter a tag",onKeyDown:function(e){var t=e.key,c=n.trim();if("Enter"===t&&c.length&&!i.includes(c)&&(e.preventDefault(),x((function(e){return[].concat(Object(d.a)(e),[c])})),k((function(e){return Object(j.a)(Object(j.a)({},e),{},{tags:i})})),a("")),"Backspace"===t&&!n.length&&i.length&&S){var r=Object(d.a)(i),s=r.pop();e.preventDefault(),x(r),a(s),console.log(I)}A(!1)},onKeyUp:function(){A(!0)},onChange:function(e){var t=e.target.value;a(t)},className:"form-control",id:"floatingInput"}),Object(y.jsx)("label",{className:"text-muted pt-2",for:"floatingInput",children:"Add Tags"})]}),Object(y.jsx)(f.a,{className:"justify-content-center mt-3",children:Object(y.jsx)(O.a,{type:"submit",className:"w-25 bg-light text-dark",children:"Submit"})})]})})]})})},w=n(40),I=n(8),k=n(276),D=n(277);var C=function(e){var t=e.item,n=e.getProducts,a=e.setShow,r=Object(c.useState)(!1),s=Object(b.a)(r,2),i=s[0],o=s[1],j=function(){return o(!1)};function d(){return(d=Object(u.a)(l.a.mark((function e(c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(c),e.next=3,g.a.delete("api/delete/".concat(t._id));case 3:n(),a(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("button",{className:"btn btn-light border border-danger text-danger mx-2 my-1",onClick:function(){o(!0)},children:"Delete Product"}),Object(y.jsxs)(D.a,{show:i,onHide:j,style:{backgroundColor:"white"},children:[Object(y.jsx)(D.a.Header,{children:Object(y.jsxs)(D.a.Title,{children:["Deleting... ",t.name]})}),Object(y.jsxs)(D.a.Body,{children:["Are you sure you want to delete ",t.name," ? ",Object(y.jsx)("br",{}),"Changes cannot be undone!",Object(y.jsx)("br",{}),'Click "Confirm" to delete and "Cancel" to return to page.']}),Object(y.jsxs)(D.a.Footer,{children:[Object(y.jsx)(O.a,{variant:"secondary",onClick:j,children:"Cancel"}),Object(y.jsx)(O.a,{variant:"primary",onClick:function(e){return d.apply(this,arguments)},children:"Confirm"})]})]})]})};var S=function(e){var t,n=e.item,a=e.i,r=e.setProductList,s=Object(c.useState)(""),i=Object(b.a)(s,2),p=i[0],x=i[1],N=Object(c.useState)(n.tags),w=Object(b.a)(N,2),I=w[0],k=w[1],S=Object(c.useState)({updatedAt:Date.now()}),A=Object(b.a)(S,2),P=A[0],T=A[1],L=Object(c.useState)(!1),_=Object(b.a)(L,2),F=_[0],q=_[1],B=Object(c.useState)(n.image),E=Object(b.a)(B,2),R=E[0],U=E[1],V=Object(c.useState)(!1),H=Object(b.a)(V,2),K=H[0],z=H[1],J=Object(c.useRef)(null),M=Object(c.useRef)(null),W=Object(c.useState)(!1),$=Object(b.a)(W,2),G=$[0],Q=$[1];function X(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(o.a)({},t.target.name,t.target.value))})),console.log(P);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(t),e.prev=1,e.next=4,g.a.put("api/products/".concat(n._id),P,{});case 4:c=e.sent,console.log(c.data),ee(),z(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function ee(){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api");case 3:t=e.sent,n=t.data,r(n.item),console.log(n.item),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return console.log(I),Object(c.useEffect)((function(){T((function(e){return Object(j.a)(Object(j.a)({},e),{},{tags:I})})),console.log(P)}),[I]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("tbody",{children:Object(y.jsxs)("tr",{style:(t={hover:G},{backgroundColor:t.hover?"#f7e8b7":"#ffffff",cursor:"pointer"}),onPointerOver:function(){return Q(!0)},onPointerOut:function(){return Q(!1)},onClick:function(){z(!0)},children:[Object(y.jsx)("td",{children:a+1}),Object(y.jsxs)("td",{children:[" ",n.name]}),Object(y.jsxs)("td",{children:["$",n.price]}),Object(y.jsx)("td",{style:{width:"3em"},children:n.tags.join(", ")}),Object(y.jsx)("td",{children:n.description}),Object(y.jsx)("td",{children:Object(y.jsx)("img",{style:{width:"5em"},src:n.image})}),Object(y.jsxs)("td",{children:[new Date(parseInt(n.createdAt,10)).toLocaleDateString(),","," ",new Date(parseInt(n.createdAt,10)).toLocaleTimeString()," "]}),Object(y.jsxs)("td",{children:[new Date(parseInt(n.updatedAt,10)).toLocaleDateString(),","," ",new Date(parseInt(n.updatedAt,10)).toLocaleTimeString()," "]})]},a)}),Object(y.jsxs)(D.a,{size:"lg",style:{height:"100vh",width:"100%",overflow:"scroll"},show:K,onHide:function(){return z(!1)},children:[Object(y.jsx)(D.a.Header,{closeButton:!0,children:Object(y.jsxs)(D.a.Title,{children:[n.name,Object(y.jsx)(C,{item:n,setShow:z,getProducts:ee})]})}),Object(y.jsx)(D.a.Body,{children:Object(y.jsx)(m.a,{md:12,children:Object(y.jsxs)(h.a,{onSubmit:function(e){return Z.apply(this,arguments)},ref:M,children:[Object(y.jsxs)("div",{className:"form-floating mb-3",children:[Object(y.jsx)("input",{type:"text",name:"createdAt",disabled:!0,className:"form-control",id:"floatingInput",defaultValue:n.createdAt}),Object(y.jsx)("label",{className:"text-muted pt-2",for:"floatingInput",children:"Created At"})]}),Object(y.jsxs)("div",{className:"form-floating mb-3",children:[Object(y.jsx)("input",{type:"text",name:"updatedAt",disabled:!0,className:"form-control",id:"floatingInput",defaultValue:n.updatedAt}),Object(y.jsx)("label",{className:"text-muted pt-2",for:"floatingInput",children:"Updated At"})]}),Object(y.jsxs)("div",{className:"form-floating mb-3",children:[Object(y.jsx)("input",{type:"text",name:"name",required:!0,minLength:1,onChange:X,className:"form-control",id:"floatingInput",defaultValue:n.name}),Object(y.jsx)("label",{className:"text-muted pt-2",for:"floatingInput",children:"Name"})]}),Object(y.jsxs)("div",{className:"form-floating mb-3",children:[Object(y.jsx)("input",{type:"number",name:"price",required:!0,min:1,onChange:X,defaultValue:n.price,className:"form-control",id:"floatingInput",placeholder:"9.99"}),Object(y.jsx)("label",{className:"text-muted pt-2",for:"floatingInput",children:"Price"})]}),Object(y.jsxs)("div",{className:"form-floating mb-3",children:[Object(y.jsx)("textarea",{type:"text",name:"description",onChange:X,defaultValue:n.description,className:"form-control",id:"floatingInput",style:{height:"4em"},placeholder:"salted egg yolk"}),Object(y.jsx)("label",{className:"text-muted pt-2",for:"floatingInput",children:"Description"})]}),Object(y.jsx)(f.a,{className:"justify-content-center mx-1",children:Object(y.jsxs)("form",{ref:J,children:[Object(y.jsx)("label",{className:"text-muted text-start",children:"Image Upload"}),Object(y.jsx)("input",{type:"file",id:"floatingInput",className:"form-control",onChange:function(e){!function(e){if(e[0]&&""!==e[0])if(e[0].type.includes("image/jpg")||e[0].type.includes("image/jpeg")||e[0].type.includes("image/gif")||e[0].type.includes("image/png")){var t=new FormData;t.append("file",e[0]),t.append("upload_preset","qfsfkzqi"),g.a.post("https://api.cloudinary.com/v1_1/kimmyp/image/upload",t).then((function(e){console.log(e.data.secure_url),T((function(t){return Object(j.a)(Object(j.a)({},t),{},{image:e.data.secure_url})})),U(e.data.secure_url)}))}else alert("file type not supported!"),J.current.reset(),U("");else alert("please upload a file")}(e.target.files)}}),Object(y.jsx)(v.a,{style:{maxWidth:"8em"},cloudName:"kimmyp",publicId:R})]})}),Object(y.jsx)("div",{className:"tag-container my-3",children:I.map((function(e,t){return Object(y.jsxs)("div",{className:"tag ",children:[e,Object(y.jsx)("button",{onClick:function(){return function(e){k((function(t){return t.filter((function(t,n){return n!==e}))}))}(t)},children:"x"})]})}))}),Object(y.jsxs)("div",{className:"form-floating mb-3",children:[Object(y.jsx)("input",{type:"text",name:"tags",value:p,placeholder:"Enter a tag",onKeyDown:function(e){var t=e.key,n=p.trim();if("Enter"===t&&n.length&&!I.includes(n)&&(e.preventDefault(),k((function(e){return[].concat(Object(d.a)(e),[n])})),T((function(e){return Object(j.a)(Object(j.a)({},e),{},{tags:I})})),x("")),"Backspace"===t&&!p.length&&I.length&&F){var c=Object(d.a)(I),a=c.pop();e.preventDefault(),k(c),x(a),console.log(P)}q(!1)},onKeyUp:function(){q(!0)},onChange:function(e){var t=e.target.value;x(t)},className:"form-control",id:"floatingInput"}),Object(y.jsx)("label",{className:"text-muted pt-2",for:"floatingInput",children:"Add Tags"})]}),Object(y.jsx)(f.a,{className:"justify-content-center mt-3",children:Object(y.jsx)(O.a,{type:"submit",className:"w-25 bg-light text-dark",children:"Update"})})]})})})]})]})};var A=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1];function r(){return(r=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api");case 3:t=e.sent,n=t.data,a(n.item),console.log(n.item),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),Object(y.jsxs)(p.a,{children:[Object(y.jsx)("h1",{className:"text-center",children:" IRVIN'S PRODUCT LIST "}),Object(y.jsxs)(k.a,{striped:!0,bordered:!0,hover:!0,children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"#"}),Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Price"}),Object(y.jsx)("th",{children:"Tags"}),Object(y.jsx)("th",{children:"Description"}),Object(y.jsx)("th",{children:"Image"}),Object(y.jsx)("th",{children:"Date Created"}),Object(y.jsx)("th",{children:"Date Modified"})]})}),n.map((function(e,t){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(S,{i:t,item:e,setProductList:a},t)})}))]})]})},P=n(280),T=n(279);var L=function(){return Object(y.jsx)(P.a,{bg:"light",variant:"light",children:Object(y.jsxs)(p.a,{children:[Object(y.jsx)(P.a.Brand,{href:"#",children:"Irvin's"}),Object(y.jsxs)(T.a,{className:"text-dark",children:[Object(y.jsx)(w.b,{to:"/",className:"mx-2",children:"Home"}),Object(y.jsx)(w.b,{to:"/products",className:"mx-2",children:"Add"}),Object(y.jsx)(w.b,{to:"/",className:"mx-2",children:"Pricing"})]})]})})};var _=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(w.a,{children:[Object(y.jsx)(L,{}),Object(y.jsxs)(I.c,{children:[Object(y.jsx)(I.a,{path:"/",exact:!0,children:Object(y.jsx)(A,{})}),Object(y.jsx)(I.a,{path:"/products",exact:!0,children:Object(y.jsx)(N,{})})]})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,281)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};n(270);s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(_,{})}),document.getElementById("root")),F()}},[[271,1,2]]]);
//# sourceMappingURL=main.596a858e.chunk.js.map